<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Friend Finder</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://kit.fontawesome.com/64c46d2f00.js"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
  </head>

  <body>
    <div class="jumbotron">
      <h1 class="text-center">
        <span class="fas fa-user-friends"></span> Friend Finder
      </h1>
    </div>

    <div class="container">
      <h2>Survey Questions</h2>
      <hr />
      <h3>About You</h3>
      <form>
        <div class="form-group">
          <div class="row">
            <div class="col-md-4">
              <label for="name">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                placeholder="Your Name Here"
                required
              />
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="photo">Please upload a photo of yourself</label>
          <input type="file" class="form-control-file" id="photo" required />
        </div>
        <hr />
        <h4>Question 1</h4>
        <div class="form-group">
          <label for="question1"
            >I love to meet new people and make new friends.</label
          >
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question1">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 2</h4>
        <div class="form-group">
          <label for="question2">I am more of a leader than a follower.</label>
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question2">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 3</h4>
        <div class="form-group">
          <label for="question3">I feel most relaxed when I'm by myself.</label>
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question3">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 4</h4>
        <div class="form-group">
          <label for="question4"
            >I am generally pretty open to trying new foods.</label
          >
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question4">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 5</h4>
        <div class="form-group">
          <label for="question5"
            >I tend to be more optimistic than pessimistic.</label
          >
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question5">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 6</h4>
        <div class="form-group">
          <label for="question6">I am more of a talker than a listener.</label>
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question6">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 7</h4>
        <div class="form-group">
          <label for="question7">I enjoy being spontaneous.</label>
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question7">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 8</h4>
        <div class="form-group">
          <label for="question8">I like dogs more than cats.</label>
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question8">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 9</h4>
        <div class="form-group">
          <label for="question9"
            >I believe most people are well-intentioned, even if I might
            disagree with them.</label
          >
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question9">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <h4>Question 10</h4>
        <div class="form-group">
          <label for="question10"
            >I would rather read a book than watch a movie.</label
          >
          <div class="row">
            <div class="col-md-2.5">
              <select class="form-control" id="question10">
                <option selected>Please select an option</option>
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>

        <button type="button" class="btn btn-primary btn-lg btn-block">
          <i class="fas fa-check"></i>
          Submit
        </button>
      </form>
      <hr />
      <footer class="footer">
        <div class="container">
          <p>
            <a href="/api/friends">API Friends List</a> |
            <a href="https://github.com/catherinewweinberg/FriendFinder"
              >GitHub Repo</a
            >
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>

<script type="text/javascript">
  $(".submit").on("click", function(event) {
    event.preventDefault();

    // This will grab the form elements:
    var newFriend = {
      name: $("#name")
        .val()
        .trim(),
      photo: $("#photo")
        .val()
        .trim(),
      surveyQuestions: [
        $("#question1").val(),
        $("#question2").val(),
        $("#question3").val(),
        $("#question4").val(),
        $("#question5").val(),
        $("#question6").val(),
        $("#question7").val(),
        $("#question8").val(),
        $("#question9").val(),
        $("#question10").val()
      ]
    };
    console.log(newFriend);

    $.post("/api/friends", newFriend)
    .then(function(data) {
        console.log("survey.html", data);
        alert("Adding new friend!");
    });
  }
      //   This should clear the form after its been submitted
      $("#name").val(""),
      $("#photo").val(""),
      $("#question1").val(""),
      $("#question2").val(""),
      $("#question3").val(""),
      $("#question4").val(""),
      $("#question5").val(""),
      $("#question6").val(""),
      $("#question7").val(""),
      $("#question8").val(""),
      $("#question9").val(""),
      $("#question10").val("")
  );
</script>
